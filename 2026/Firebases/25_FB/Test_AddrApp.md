# AddrApp 検証項目書

本ドキュメントは、Firebase C++ SDK および FTXUI を使用したアドレス帳管理アプリ (AddrApp) の機能妥当性を検証するための項目を定義する。


# 検証項目
以下項目は、1.手順、2.確認手段
`[~]`は確認手段を示す

## 2.1 Firebase 接続と初期表示
- API_KEYが設定ファイルに記載されている。アプリ起動。
- [ss]`Status: Connected` が表示される
- [ss]デフォルト状態(Time降順ソートでアドレス帳が表示)

## 2.2 カラム選択とフィルタ UI
- [ ] **選択状態の遷移**: `Name` または `Mail` ボタンを押下（または Enter）した際、該当カラムが選択状態（ソート記号表示）になること。
- [ ] **入力フィールドの動的表示**: 選択されたカラムに対応するフィルタ入力欄 (`[ ... ]`) が表示され、非選択カラムの入力欄は非表示（空白）になること。

## 2.3 前方一致フィルタ機能
- `Name`をクリック、フィルタに "a" 入力。 [ss]取得されたNameがすべて "a" で始まっていること。
- 入力文字を空にする。空にした場合、[ss] 全データが表示されること。

## 2.4 無限スクロール
- [ ] **スクロール**: マウスホイール操作により、リスト画面がスクロールされる
- [ ] **ページング整合性**: 前のページの末尾ドキュメントをカーソルとして `StartAfter` クエリが発行されることをssで確認。

## 2.5 ソート機能
- [ ] **トグル動作**: 同一カラムボタンの連続押下により、昇順 (`^`) と降順 (`v`) が切り替わり、ログの `SortDirection` が変化すること。
- [ ] **タイムスタンプソート**: 初期状態で `timestamp` 降順にソートされていること。

## 3. 異常系・境界値検証項目
- [ ] **API Key 欠如**: 環境変数や設定ファイルにキーがない場合、`Status: Disconnected` となり、適切なエラーログが出力されること。
- [ ] **検索結果ゼロ**: 該当するデータがない場合、リストが空になり `Count=0` がログに記録されること。

## 4. 診断機能
- [ ] **スナップショット**: `Ctrl-p` 押下により、現在の TUI 画面が `addrapp.HHMMSS.log` として正しく保存されること。
