# Battle Spirits CLI Simulator (gamefield)

バトルスピリッツの対局をシミュレートするためのCLIツールです。
デッキレシピに基づいた初期セットアップ、各ステップの自動進行、および手札からの召喚やアタックなどの対話的な操作が可能です。

## 1. 実行方法

プロジェクトの `tools` ディレクトリにて、`amper` を使用して実行します。

```powershell
.\amper.bat run -m gamefield
```

## 2. 主な機能

- **動的デッキロード**: `@BS/data/decks/indra_raimu.md` からカードリストを自動読み込み。
- **カードデータ連携**: ローカルキャッシュ（`~/.bscards/yaml/`）からコスト、軽減、シンボル数を動的に取得。
- **ステップ自動進行**: スタート、コア、ドロー（先攻1Tスキップ対応）、リフレッシュを自動実行。
- **コスト・軽減計算**: フィールドのシンボル数を計算し、召喚時の実支払コストを動的に軽減。
- **ソウルコア管理**: 支払いに通常コアが不足する場合、自動的にソウルコアを消費して `coreTrash` へ移動。
- **対話型UI**: 番号入力によるアクション選択。`q` でいつでも終了（サレンダー）可能。

## 3. 操作コマンド

メニュー表示時に以下の入力が可能です：
- **[番号]**: リストに表示されたアクション（召喚、アタック等）を実行。
- **q**: シミュレータを終了。
- **next (または空打ち)**: 次のステップへ進む。

## 4. 前提条件

カードデータの正確な反映には、あらかじめ `jvm-cli` 等でカード情報を取得し、キャッシュが作成されている必要があります。
キャッシュがない場合は、デフォルト値（コスト3、軽減1、シンボル1）が適用されます。
